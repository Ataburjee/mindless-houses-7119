<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./whish.css">
</head>
<body>
    <div id="container"></div>
</body>
</html>
<script>
    let appendData=()=>{
        let xy=JSON.parse(localStorage.getItem("Atabur")) || [];
      console.log(xy)

    xy.forEach(({image},index)=>{
    let cont=document.querySelector("#container");
    let div=document.createElement("div")

    let img=document.createElement("img");
    img.src=image;
    let div11 = document.createElement("div")
    let btn=document.createElement("button")
        btn.innerText="Remove";
        btn.addEventListener("click",function(){
            remove(index);
        })
        let btn1=document.createElement("button")
        btn1.innerText = "ADD TO BAG"
        btn1.addEventListener("click",function(){
            // add_to_bag(xy)
            console.log(xy[index])
        })
        div11.append(btn, btn1)

    div.append(img,div11)
    cont.append(div)
})
    }


appendData()
function remove(index){
    let xy=JSON.parse(localStorage.getItem("Atabur")) || [];

    let newData=xy.filter(function(ele,i){
        if(i===index)
        {
            let trash=JSON.parse(localStorage.getItem("trash")) || []
            trash.push(ele)
            localStorage.setItem("trash",JSON.stringify(trash))
        }
        else{
            return i!== index;
        }
        window.location.reload();
    });
    localStorage.setItem("Atabur",JSON.stringify(newData));
    appendData();
};



// let add_to_bag = () => {
//     let box = document.getElementById("add_to_bag")
//     box.innerText = "PROCEED TO CHECKOUT"
//     // console.log(pro_page_data)
//     box.addEventListener("click",function(){
//         window.location.href = ""   //proceed to checkout page have to add
//     })
// }

</script>